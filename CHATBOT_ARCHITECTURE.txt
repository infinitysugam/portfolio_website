╔══════════════════════════════════════════════════════════════════════════════╗
║                    AI CHATBOT ARCHITECTURE DIAGRAM                           ║
╚══════════════════════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────────────────────┐
│                              USER INTERFACE                                  │
└──────────────────────────────────────────────────────────────────────────────┘

    ┌─────────────────────────────────────────────────────────────┐
    │  Browser (All Pages)                                        │
    │  ┌───────────────────────────────────────────────────────┐  │
    │  │  templates/base.html                                  │  │
    │  │  ├── Navigation                                       │  │
    │  │  ├── Main Content                                     │  │
    │  │  └── Chatbot Widget (Fixed Bottom-Right) ◄───────────┼──┼─ YOU ARE HERE
    │  │      ┌────────────────────────────────────┐          │  │
    │  │      │  🤖 Purple Chat Button             │          │  │
    │  │      │  (Collapsible)                     │          │  │
    │  │      │                                    │          │  │
    │  │      │  ┌──────────────────────────────┐ │          │  │
    │  │      │  │ Chat Window                  │ │          │  │
    │  │      │  │ ┌──────────────────────────┐ │ │          │  │
    │  │      │  │ │ Header (Purple Gradient) │ │ │          │  │
    │  │      │  │ │ 🤖 Sugam's AI Assistant  │ │ │          │  │
    │  │      │  │ └──────────────────────────┘ │ │          │  │
    │  │      │  │ ┌──────────────────────────┐ │ │          │  │
    │  │      │  │ │ Messages Area (Scroll)   │ │ │          │  │
    │  │      │  │ │ 🤖: Hi! I'm Sugam's...   │ │ │          │  │
    │  │      │  │ │ 👤: Tell me about...     │ │ │          │  │
    │  │      │  │ │ 🤖: Sugam has 3+ years...│ │ │          │  │
    │  │      │  │ └──────────────────────────┘ │ │          │  │
    │  │      │  │ ┌──────────────────────────┐ │ │          │  │
    │  │      │  │ │ Input Area               │ │ │          │  │
    │  │      │  │ │ [🎤] [Text Input] [📤]  │ │ │          │  │
    │  │      │  │ └──────────────────────────┘ │ │          │  │
    │  │      │  └──────────────────────────────┘ │          │  │
    │  │      └────────────────────────────────────┘          │  │
    │  └───────────────────────────────────────────────────────┘  │
    └─────────────────────────────────────────────────────────────┘
                            │
                            │ User Types/Speaks
                            ▼
    ┌─────────────────────────────────────────────────────────────┐
    │  static/js/chatbot.js                                       │
    │  ├── Event Listeners (click, keypress, voice)              │
    │  ├── Speech Recognition (Web Speech API)                   │
    │  ├── Message Handling                                      │
    │  ├── Conversation History Management                       │
    │  └── Text-to-Speech (Web Speech Synthesis)                │
    └─────────────────────────────────────────────────────────────┘
                            │
                            │ POST /chatbot/chat/
                            │ {message: "...", history: [...]}
                            ▼

┌──────────────────────────────────────────────────────────────────────────────┐
│                              BACKEND (Django)                                │
└──────────────────────────────────────────────────────────────────────────────┘

    ┌─────────────────────────────────────────────────────────────┐
    │  personal_website/urls.py                                   │
    │  └── path('chatbot/', include('chatbot.urls'))             │
    └─────────────────────────────────────────────────────────────┘
                            │
                            ▼
    ┌─────────────────────────────────────────────────────────────┐
    │  chatbot/urls.py                                            │
    │  ├── path('chat/', views.chat)                             │
    │  └── path('tts/', views.text_to_speech)                    │
    └─────────────────────────────────────────────────────────────┘
                            │
                            ▼
    ┌─────────────────────────────────────────────────────────────┐
    │  chatbot/views.py                                           │
    │  ┌───────────────────────────────────────────────────────┐  │
    │  │ def chat(request):                                    │  │
    │  │   1. Parse request (message + history)                │  │
    │  │   2. Load context files ──────────────────────────┐   │  │
    │  │   3. Call OpenAI API                              │   │  │
    │  │   4. Return response                              │   │  │
    │  └───────────────────────────────────────────────────┼───┘  │
    └────────────────────────────────────────────────────────┼──────┘
                            │                                │
                            │                                │
                            ▼                                ▼
    ┌─────────────────────────────────────┐  ┌──────────────────────────────┐
    │  OpenAI API                         │  │  chatbot_context/            │
    │  ┌───────────────────────────────┐  │  │  ┌────────────────────────┐  │
    │  │ GPT-4o-mini                   │  │  │  │ profile.txt            │  │
    │  │                               │  │  │  │ - Work experience      │  │
    │  │ Input:                        │  │  │  │ - Education            │  │
    │  │ - System prompt ◄─────────────┼──┼──┼──│ - Skills               │  │
    │  │ - Profile context ◄───────────┼──┼──┼──│ - Projects             │  │
    │  │ - Conversation history        │  │  │  │ - Achievements         │  │
    │  │ - User message                │  │  │  └────────────────────────┘  │
    │  │                               │  │  │  ┌────────────────────────┐  │
    │  │ Output:                       │  │  │  │ system_prompt.txt      │  │
    │  │ - AI response                 │  │  │  │ - AI behavior          │  │
    │  │                               │  │  │  │ - Tone guidelines      │  │
    │  └───────────────────────────────┘  │  │  │ - Response format      │  │
    └─────────────────────────────────────┘  │  └────────────────────────┘  │
                            │                 └──────────────────────────────┘
                            │ Response
                            ▼
    ┌─────────────────────────────────────────────────────────────┐
    │  JSON Response                                              │
    │  {                                                          │
    │    "success": true,                                         │
    │    "response": "Sugam has 3+ years of experience..."       │
    │  }                                                          │
    └─────────────────────────────────────────────────────────────┘
                            │
                            │ Return to Frontend
                            ▼
    ┌─────────────────────────────────────────────────────────────┐
    │  Browser displays AI response                               │
    │  - Smooth animation                                         │
    │  - Add to conversation history                              │
    │  - Enable text-to-speech option                            │
    └─────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│                              DATA FLOW                                       │
└──────────────────────────────────────────────────────────────────────────────┘

User Input ──► Frontend JS ──► Django View ──► Load Context ──┐
                                                               │
                                                               ▼
                                                         OpenAI API
                                                               │
                                                               ▼
User Sees ◄── Frontend JS ◄── Django View ◄── AI Response ────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│                              VOICE FEATURES                                  │
└──────────────────────────────────────────────────────────────────────────────┘

Voice Input (Speech-to-Text):
┌─────────────────────────────────────────────────────────────┐
│ User clicks 🎤 button                                       │
│         ↓                                                   │
│ Web Speech Recognition API (Browser)                        │
│         ↓                                                   │
│ Transcribe speech to text                                   │
│         ↓                                                   │
│ Fill input field & send message                             │
└─────────────────────────────────────────────────────────────┘

Voice Output (Text-to-Speech):
┌─────────────────────────────────────────────────────────────┐
│ User clicks 🔊 button on AI message                         │
│         ↓                                                   │
│ Web Speech Synthesis API (Browser)                          │
│         ↓                                                   │
│ Convert text to speech                                      │
│         ↓                                                   │
│ Play audio through speakers                                 │
└─────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│                              FILE STRUCTURE                                  │
└──────────────────────────────────────────────────────────────────────────────┘

personal_website/
├── chatbot/                    ◄─── Django App
│   ├── __init__.py
│   ├── apps.py
│   ├── models.py
│   ├── admin.py
│   ├── tests.py
│   ├── views.py               ◄─── API Logic
│   └── urls.py                ◄─── URL Routing
│
├── chatbot_context/            ◄─── AI Context (Easy to Edit!)
│   ├── profile.txt            ◄─── Your Info
│   └── system_prompt.txt      ◄─── AI Behavior
│
├── static/
│   ├── css/
│   │   └── chatbot.css        ◄─── Styling
│   └── js/
│       └── chatbot.js         ◄─── Frontend Logic
│
├── templates/
│   └── base.html              ◄─── Integrated Here
│
└── personal_website/
    ├── settings.py            ◄─── Added 'chatbot' app
    └── urls.py                ◄─── Added chatbot routes

┌──────────────────────────────────────────────────────────────────────────────┐
│                              KEY FEATURES                                    │
└──────────────────────────────────────────────────────────────────────────────┘

✅ Appears on ALL pages (via base.html)
✅ Collapsible widget (doesn't obstruct content)
✅ AI-powered responses (GPT-4o-mini)
✅ Voice input (speech-to-text)
✅ Voice output (text-to-speech)
✅ Conversation history
✅ Quick suggestion buttons
✅ Mobile responsive
✅ Dark theme (matches website)
✅ Smooth animations
✅ Error handling
✅ Context-aware (knows your profile)
✅ Professional tone for recruiters

┌──────────────────────────────────────────────────────────────────────────────┐
│                              SECURITY                                        │
└──────────────────────────────────────────────────────────────────────────────┘

✅ CSRF Protection (Django middleware)
✅ API Key in Environment Variables (not in code)
✅ Input Sanitization (HTML escaping)
✅ Error Handling (no sensitive data leaked)
✅ HTTPS Ready (for production)

┌──────────────────────────────────────────────────────────────────────────────┐
│                              COST                                            │
└──────────────────────────────────────────────────────────────────────────────┘

GPT-4o-mini: ~$0.0002 per conversation
Monthly: $0.60 (100/day) to $6 (1000/day)

Very affordable! 💰

╔══════════════════════════════════════════════════════════════════════════════╗
║                         INTEGRATION COMPLETE! ✅                             ║
║                                                                              ║
║  Your AI chatbot is ready to help recruiters learn about you 24/7!          ║
║                                                                              ║
║  Next Step: Set OPENAI_API_KEY and run the server                           ║
╚══════════════════════════════════════════════════════════════════════════════╝
